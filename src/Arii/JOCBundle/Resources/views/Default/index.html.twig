{% extends "AriiJOCBundle::layout.html.twig" %}
{% block body %}
<script language="javascript">
function Init() {    
    
    Dashboard = globalLayout.cells("b").attachLayout("2E");
    myLayoutUp = Dashboard.cells("a").attachLayout("3W");
    myLayoutDown = Dashboard.cells("b").attachLayout("3W");
    
    SpoolersChart = myLayoutUp.cells("a").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#STATUS#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "#STATUS#: <b>#NB#</b>",
            shadow: 0,
            legend:{
                width: 0,
                template: "#STATUS#",
                valign:"top",
                align:"left"
            } 
    });

    ChainsChart = myLayoutUp.cells("b").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#NAME#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "",
            shadow: 0,
            legend:{
                width: 0,
                template: "#NAME#",
                valign:"top",
                align:"left"
            } 
    });

    OrdersChart = myLayoutUp.cells("c").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#NAME#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "",
            shadow: 0,
            legend:{
                width: 0,
                template: "#NAME#",
                valign:"top",
                align:"left"
            } 
    });

    JobsChart = myLayoutDown.cells("a").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#NAME#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "",
            shadow: 0,
            legend:{
                width: 0,
                template: "#NAME#",
                valign:"top",
                align:"left"
            } 
    });

    ClassesChart = myLayoutDown.cells("b").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#NAME#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "",
            shadow: 0,
            legend:{
                width: 0,
                template: "#NAME#",
                valign:"top",
                align:"left"
            } 
    });

    LocksChart = myLayoutDown.cells("c").attachChart({
            view:"donut",
            value:"#NB#",
            label:"",
            tooltip: "#NAME#",
            color: "#COLOR#",
            border:false,
            pieInnerText: "",
            shadow: 0,
            legend:{
                width: 0,
                template: "#NAME#",
                valign:"top",
                align:"left"
            } 
    });

}

function GridRefresh() {
SpoolersChart.load( "{{ url('xml_JOC_spoolers_pie') }}", function () {
    OrdersChart.load("{{ url('xml_JOC_orders_pie') }}", function () {
        ChainsChart.load("{{ url('xml_JOC_chains_pie') }}", function () {
            JobsChart.load("{{ url('xml_JOC_jobs_pie') }}", function () {
                ClassesChart.load("{{ url('xml_JOC_process_classes_pie') }}", function () {
                    LocksChart.load("{{ url('xml_JOC_locks_pie') }}", function () {
                    });
                });
            });
        });
    });
});

}
</script>
{% endblock %}